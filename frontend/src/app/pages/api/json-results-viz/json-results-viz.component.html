<mat-card class="call-summary">
  <mat-toolbar color="accent">
    <span>Call Summary</span>
  </mat-toolbar>
  <div *ngFor="let param of callParams">
    <h3 mat-subheader>{{ param }}</h3>
    <div *ngIf="!isArray(pData(param))">
      <mat-list>
        <mat-list-item>
          <mat-icon mat-list-icon>done</mat-icon>
          <h4 mat-line>{{ pData(param) }}</h4>
        </mat-list-item>
      </mat-list>
    </div>
    <div *ngIf="isArray(pData(param))">
      <mat-list>
        <mat-list-item *ngFor="let val of pData(param)">
          <mat-icon mat-list-icon>done</mat-icon>
          <h4 mat-line>{{ val }}</h4>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
</mat-card>

<div class="datatable">
  <mat-toolbar color="accent">
    <span>Sample Sizes</span>
  </mat-toolbar>
  <ngx-datatable
    class="material"
    [rows]="sampleSizeRows"
    [columns]="sampleSizeColumns"
    [columnMode]="'force'"
    [headerHeight]="50"
    [footerHeight]="false"
    [rowHeight]="'auto'">
  </ngx-datatable>
</div>

<mat-card>
  <mat-toolbar color="accent" class="flex-row-container">
    <span>Treatment ATE ({{ pData('treatment') }} -> {{ pData('outcome') }})</span>
  </mat-toolbar>
  <!-- <ngx-charts-bar-vertical-2d
    [view]="view"
    [scheme]="colorScheme"
    [results]="groupByCarrier ? effectQuery1.data : effectQuery2.data"
    [xAxis]="true"
    [yAxis]="true"
    [legend]="true"
    [showXAxisLabel]="true"
    [showYAxisLabel]="true"
    [xAxisLabel]="effectQuery1.xAxis"
    [yAxisLabel]="effectQuery1.yAxis">
  </ngx-charts-bar-vertical-2d> -->
</mat-card>

<mat-card>
  <mat-toolbar color="accent" class="flex-row-container">
    <span>Covariate ATE ({{ currentCovariate }} -> {{ pData('outcome') }})</span>
    <span class="flex-span"></span>
    <span class="covariate-dropdown">
      <mat-select 
          placeholder="Covariate" 
          (selectionChange)="changeCovariate($event)" 
          [value]="currentCovariate">
        <mat-option *ngFor="let covariate of covariates" [value]="covariate">
          {{ covariate }}
        </mat-option>
      </mat-select>
    </span>
  </mat-toolbar>
  <!-- <ngx-charts-bar-vertical-2d
    [view]="view"
    [scheme]="colorScheme"
    [results]="groupByCarrier ? effectQuery1.data : effectQuery2.data"
    [xAxis]="true"
    [yAxis]="true"
    [legend]="true"
    [showXAxisLabel]="true"
    [showYAxisLabel]="true"
    [xAxisLabel]="effectQuery1.xAxis"
    [yAxisLabel]="effectQuery1.yAxis">
  </ngx-charts-bar-vertical-2d> -->
</mat-card>

